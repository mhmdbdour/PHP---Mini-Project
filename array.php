<?php

$students = [
    [
        'id' => 1,
        'name' => 'Anas',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/15493674_621516641371060_3632182591405634963_o.jpg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'React-ServiceWebsite',
                'isCom' => 'No',
            ],
            [
                'PName' => 'Digital-Tool-Web',
                'isCom' => 'No',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 09:30',
                'cOut' => '15 dec 2020 19:00',
            ],
            [
                'cIn' => '14 dec 2020 08:00',
                'cOut' => '14 dec 2020 16:45',
            ],
            [
                'cIn' => '14 dec 2020 09:00',
                'cOut' => '14 dec 2020 15:59',
            ],
            [
                'cIn' => '14 dec 2020 08:00',
                'cOut' => '14 dec 2020 18:00',
            ],
        ]
    ],
    [
        'id' => 2,
        'name' => 'Ahmad',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/BNHA.jpeg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'React-ServiceWebsite',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Digital-Tool-Web',
                'isCom' => 'No',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 09:25',
                'cOut' => '15 dec 2020 18:00',
            ],
            [
                'cIn' => '14 dec 2020 08:45',
                'cOut' => '14 dec 2020 16:25',
            ],
            [
                'cIn' => '14 dec 2020 08:45',
                'cOut' => '14 dec 2020 15:34',
            ],
            [
                'cIn' => '14 dec 2020 08:33',
                'cOut' => '14 dec 2020 19:59',
            ],
        ]
    ],
    [
        'id' => 3,
        'name' => 'Bdour',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/Bocono.jpg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'no',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'no',
            ],
            [
                'PName' => 'React-ServiceWebsite',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Digital-Tool-Web',
                'isCom' => 'No',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 09:30',
                'cOut' => '15 dec 2020 16:12',
            ],
            [
                'cIn' => '14 dec 2020 09:30',
                'cOut' => '14 dec 2020 17:20',
            ],
            [
                'cIn' => '14 dec 2020 09:34',
                'cOut' => '14 dec 2020 15:25',
            ],
            [
                'cIn' => '14 dec 2020 09:46',
                'cOut' => '14 dec 2020 16:22',
            ],
        ]
    ],
    [
        'id' => 4,
        'name' => 'Ashraf',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/Code.jpg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'React-ServiceWebsite',
                'isCom' => 'No',
            ],
            [
                'PName' => 'Digital-Tool-Web',
                'isCom' => 'yes',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 09:11',
                'cOut' => '15 dec 2020 19:33',
            ],
            [
                'cIn' => '14 dec 2020 08:45',
                'cOut' => '14 dec 2020 16:35',
            ],
            [
                'cIn' => '14 dec 2020 08:0',
                'cOut' => '14 dec 2020 16:0',
            ],
            [
                'cIn' => '14 dec 2020 09:45',
                'cOut' => '14 dec 2020 16:25',
            ],
        ]
    ],
    [
        'id' => 5,
        'name' => 'Hala',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/DS.jpg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'no',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'React-ServiceWebsite',
                'isCom' => 'No',
            ],
            [
                'PName' => 'Digital-Tool-Web',
                'isCom' => 'yes',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 09:34',
                'cOut' => '15 dec 2020 19:54',
            ],
            [
                'cIn' => '14 dec 2020 08:12',
                'cOut' => '14 dec 2020 18:22',
            ],
            [
                'cIn' => '14 dec 2020 08:00',
                'cOut' => '14 dec 2020 20:15',
            ],
            [
                'cIn' => '14 dec 2020 09:55',
                'cOut' => '14 dec 2020 16:44',
            ],
        ]
    ],
    [
        'id' => 6,
        'name' => 'Osama',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/ERASED.jpg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'React-ServiceWebsite',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Digital-Tool-Web',
                'isCom' => 'No',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 08:30',
                'cOut' => '15 dec 2020 20:00',
            ],
            [
                'cIn' => '14 dec 2020 08:45',
                'cOut' => '14 dec 2020 19:45',
            ],
            [
                'cIn' => '14 dec 2020 08:14',
                'cOut' => '14 dec 2020 17:43',
            ],
            [
                'cIn' => '14 dec 2020 08:00',
                'cOut' => '14 dec 2020 18:00',
            ],
        ]
    ],
    [
        'id' => 7,
        'name' => 'Bdour',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/Bocono.jpg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'yes',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 09:00',
                'cOut' => '15 dec 2020 16:00',
            ],
            [
                'cIn' => '14 dec 2020 08:00',
                'cOut' => '14 dec 2020 14:00',
            ],
        ]
    ],
    [
        'id' => 8,
        'name' => 'Ashraf',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/Code.jpg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'yes',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 09:00',
                'cOut' => '15 dec 2020 16:00',
            ],
            [
                'cIn' => '14 dec 2020 08:00',
                'cOut' => '14 dec 2020 14:00',
            ],
        ]
    ],
    [
        'id' => 9,
        'name' => 'Hala',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/DS.jpg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'yes',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 09:00',
                'cOut' => '15 dec 2020 16:00',
            ],
            [
                'cIn' => '14 dec 2020 08:00',
                'cOut' => '14 dec 2020 14:00',
            ],
        ]
    ],
    [
        'id' => 10,
        'name' => 'Osama',
        'birthday' => '14 June',
        'github' => 'https://github.com/oca-class-b',
        'linkedin' => 'https://www.linkedin.com/feed/',
        'image' => './pic/ERASED.jpg',
        'projects' => [
            [
                'PName' => 'HTML and CSS',
                'isCom' => 'yes',
            ],
            [
                'PName' => 'Wordpress',
                'isCom' => 'yes',
            ],
        ],
        'attendance' => [
            [
                'cIn' => '15 dec 2020 09:00',
                'cOut' => '15 dec 2020 16:00',
            ],
            [
                'cIn' => '14 dec 2020 08:00',
                'cOut' => '14 dec 2020 14:00',
            ],
        ]
    ],
];

function GetTime($test)
{
    $test = str_replace(str_split('\\/:*"-'), ' ', $test);
    $em = explode(' ', ltrim(rtrim($test)));
    $arr = array_slice($em, -2);

    $Atten = [
        'date' => $em[0] . '-' . $em[1],
        'time' =>  $arr[0] . ':' . $arr[1],
        'dur'  => $arr[0] * 60 + $arr[1],
    ];

    return $Atten;
}
function ProjectsCount($arr)
{
    $total = 0;
    $completed = 0;
    $sPro = [];
    foreach ($arr as $s) {
        $counter = 0;
        foreach ($s['projects'] as $pro) {
            $total += 1;
            if ($pro['isCom'] === 'yes') {
                $completed += 1;
                $counter += 1;
            }
        }
        $sPro[$s['name']] = $counter;
    }
    return ['total' => $total, 'completed' => $completed, 'sPro' => $sPro];
}


$doun = '';
foreach ($students as $s) {
    $doun .= " 
    <li><a class='dropdown-item' href='http://localhost/learnPHP/PHP---Mini-Project/Profile/{$s['id']}.php'>{$s['name']}</a></li>
    ";
}

$navBar =  "
<nav class='navbar navbar-expand-lg navbar-light bg-light'>
<div class='container-fluid'>
    <a class='navbar-brand' href='http://localhost/learnPHP/PHP---Mini-Project/Trainees.php'>PHP</a>
    <button class='navbar-toggler' type='button' data-bs-toggle='collapse' data-bs-target='#navbarNavDropdown' aria-controls='navbarNavDropdown' aria-expanded='false' aria-label='Toggle navigation'>
        <span class='navbar-toggler-icon'></span>
    </button>
    <div class='collapse navbar-collapse' id='navbarNavDropdown'>
        <ul class='navbar-nav'>
            <li class='nav-item'>
                <a class='nav-link active' aria-current='page' href='http://localhost/learnPHP/PHP---Mini-Project/Trainees.php'>Trainees</a>
            </li>
            <li class='nav-item dropdown'>
                <a class='nav-link dropdown-toggle' href='#' id='navbarDropdownMenuLink' role='button' data-bs-toggle='dropdown' aria-expanded='false'>
                    Profiles
                </a>
                <ul class='dropdown-menu' aria-labelledby='navbarDropdownMenuLink'>
                {$doun}
                </ul>
            </li>
            <li class='nav-item'>
                <a class='nav-link' href='http://localhost/learnPHP/PHP---Mini-Project/Attendance.php'>Attendance</a>
            </li>
            <li class='nav-item'>
                <a class='nav-link' href='http://localhost/learnPHP/PHP---Mini-Project/Dashboard.php'>Dashboard</a>
            </li>
            <li class='nav-item'>
                <a class='nav-link' href='http://localhost/learnPHP/PHP---Mini-Project/galary.php'>Gallery</a>
            </li>
        </ul>
    </div>
</div>
</nav>";
